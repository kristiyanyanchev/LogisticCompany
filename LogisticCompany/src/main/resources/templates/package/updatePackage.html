<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
</head>
<body>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <div class="container-sm col-3">
        <form th:action="@{/package}" th:object="${dto}"  method="post" >
            <input type="hidden" th:field="*{id}" th:value="${package.id}"> <
            <div class="mb-3">
                <label for="sourceDatalist" class="form-label">Source</label>
                <input class="form-control" list="sourceDatalistOptions"
                       id="sourceDatalist" placeholder="Choose office" th:value="${package.getSource().getName()}" th:field="*{source}">
                <datalist id="sourceDatalistOptions">
                    <option  th:each="office: ${offices}" th:value="${office.getName()}" >
                </datalist>
            </div>
            <div class="mb-3">
                <label for="destinationDatalist" class="form-label">Destination</label>
                <input class="form-control" list="destinationDatalistOptions"
                       id="destinationDatalist" placeholder="Choose office" th:value="${package.getDestination().getName()}" th:field="*{destination}">
                <datalist id="destinationDatalistOptions">
                    <option  th:each="office: ${offices}" th:value="${office.getName()}">
                </datalist>
            </div>

            <div class="mb-3">
                <label for="senderDatalist" class="form-label">Sender</label>
                <input class="form-control" list="senderDatalistOptions"
                       id="senderDatalist" placeholder="Choose Sender" th:value="${package.getSender().getUsername()}" th:field="*{sender}">
                <datalist id="senderDatalistOptions">
                    <option  th:each="client: ${clients}" th:value="${client.getUsername()}">
                </datalist>
            </div>

            <div class="mb-3">
                <label for="recipientDatalist" class="form-label">Recipient</label>
                <input class="form-control" list="recipientDatalistOptions"
                       id="recipientDatalist" placeholder="Choose Sender" th:value="${package.getRecipient().getUsername()}" th:field="*{recipient}">
                <datalist id="recipientDatalistOptions">
                    <option  th:each="client: ${clients}" th:value="${client.getUsername()}">
                </datalist>
            </div>

            <div class="mb-3">
                <label for="employeeDatalist" class="form-label">Recipient</label>
                <input class="form-control" list="employeeDatalistOptions"
                       id="employeeDatalist" placeholder="Choose Employee" th:value="${package.getEmployee().getUsername()}" th:field="*{employee}">
                <datalist id="employeeDatalistOptions">
                    <option  th:each="employee: ${employees}" th:value="${employee.getUsername()}">
                </datalist>
            </div>

            <div class="mb-3">
                <label for="sendAtDate">Send At </label>
                <input id="sendAtDate" class="form-control" type="date" th:value="${package.getSendAt().toString()}" th:field="${dto.sendAt}"/>
            </div>

            <div class="mb-3">
                <label for="receivedAtDate">Received At</label>
                <input id="receivedAtDate" class="form-control" type="date" th:value="${package.getReceivedAt().toString()}" th:field="*{receivedAt}"/>
            </div>

            <div class="input-group mb-3">
                <span class="input-group-text">$</span>
                <input type="text" class="form-control" aria-label="" id="price-text" th:value="${package.getPrice()}" th:field="*{price}">
            </div>

            <div class="mb-3">
                <select class="form-select" aria-label="Status" id="status-select" th:field="*{status}">
                    <option th:value="${package.getStatus()}" th:text="${package.getStatus()}"></option>

                    <option th:if="${package.getStatus() != 'Pending'}" value="Pending">Pending</option>
                    <option th:if="${package.getStatus() != 'In Transit'}" value="In Transit">In Transit</option>
                    <option th:if="${package.getStatus() != 'Delivered'}"  value="Delivered">Delivered</option>
                </select>
            </div>

            <button type="submit" class="btn btn-primary">Submit</button>
        </form>
    </div>

</body>
</html>